{"failedCount":1,"prefixedPath":"classpath:barrigaRest\/feature\/cadastrar_transacao.feature","packageQualifiedName":"barrigaRest.feature.cadastrar_transacao","loopIndex":-1,"relativePath":"barrigaRest\/feature\/cadastrar_transacao.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1499193700,"millis":1499.1937,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def auth = call read(\"classpath:barrigaRest\/feature\/auth.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:barrigaRest\/feature\/auth.feature","packageQualifiedName":"barrigaRest.feature.auth","loopIndex":-1,"relativePath":"barrigaRest\/feature\/auth.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":888000,"millis":0.888,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/barrigarest.wcaquino.me\/signin'"},"stepLog":"01:59:30.374 karate.env system property was: null \n"},{"result":{"nanos":20675500,"millis":20.6755,"status":"passed"},"step":{"line":5,"prefix":"And","index":1,"text":"request {email: \"a@a\", senha: \"a\", redirecionar: false}"}},{"result":{"nanos":1444219400,"millis":1444.2194,"status":"passed"},"step":{"line":6,"prefix":"When","index":2,"text":"method post"},"stepLog":"01:59:30.723 request:\n1 > POST https:\/\/barrigarest.wcaquino.me\/signin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 48\n1 > Host: barrigarest.wcaquino.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.18)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"a@a\",\"senha\":\"a\",\"redirecionar\":false}\n\n01:59:31.890 response time in milliseconds: 1164\n1 < 200\n1 < Server: nginx\/1.12.1 (Ubuntu)\n1 < Date: Tue, 13 Jun 2023 04:59:33 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 122\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < ETag: W\/\"7a-FnDAQekM3VP4lo\/xFY0wSczih8w\"\n{\"id\":1,\"nome\":\"a\",\"token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\"}\n\n"},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":7,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":8105700,"millis":8.1057,"status":"passed"},"step":{"line":8,"prefix":"*","index":4,"text":"print response"},"stepLog":"01:59:31.901 [print] {\n  \"id\": 1,\n  \"nome\": \"a\",\n  \"token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\"\n}\n \n"}],"executorName":"pool-1-thread-1","line":3,"name":"Pegar o token","description":"","durationMillis":1473.9258,"startTime":1686632370421,"failed":false,"refId":"[1:3]","endTime":1686632371902,"exampleIndex":-1}],"callDepth":1,"name":"Autenticação","description":"","resultDate":"2023-06-13 01:59:34 AM","durationMillis":1473.9258,"passedCount":1}]},{"result":{"nanos":1291391100,"millis":1291.3911,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def resetarApp = call read(\"classpath:barrigaRest\/feature\/resetarAplicacao.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:barrigaRest\/feature\/resetarAplicacao.feature","packageQualifiedName":"barrigaRest.feature.resetarAplicacao","loopIndex":-1,"relativePath":"barrigaRest\/feature\/resetarAplicacao.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":752144300,"millis":752.1443,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def auth = call read(\"classpath:barrigaRest\/feature\/auth.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:barrigaRest\/feature\/auth.feature","packageQualifiedName":"barrigaRest.feature.auth","loopIndex":-1,"relativePath":"barrigaRest\/feature\/auth.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":512500,"millis":0.5125,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/barrigarest.wcaquino.me\/signin'"}},{"result":{"nanos":133800,"millis":0.1338,"status":"passed"},"step":{"line":5,"prefix":"And","index":1,"text":"request {email: \"a@a\", senha: \"a\", redirecionar: false}"}},{"result":{"nanos":738134700,"millis":738.1347,"status":"passed"},"step":{"line":6,"prefix":"When","index":2,"text":"method post"},"stepLog":"01:59:31.928 request:\n1 > POST https:\/\/barrigarest.wcaquino.me\/signin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 48\n1 > Host: barrigarest.wcaquino.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.18)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"a@a\",\"senha\":\"a\",\"redirecionar\":false}\n\n01:59:32.663 response time in milliseconds: 735\n1 < 200\n1 < Server: nginx\/1.12.1 (Ubuntu)\n1 < Date: Tue, 13 Jun 2023 04:59:33 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 122\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < ETag: W\/\"7a-FnDAQekM3VP4lo\/xFY0wSczih8w\"\n{\"id\":1,\"nome\":\"a\",\"token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\"}\n\n"},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":7,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":1097700,"millis":1.0977,"status":"passed"},"step":{"line":8,"prefix":"*","index":4,"text":"print response"},"stepLog":"01:59:32.666 [print] {\n  \"id\": 1,\n  \"nome\": \"a\",\n  \"token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\"\n}\n \n"}],"executorName":"pool-1-thread-1","line":3,"name":"Pegar o token","description":"","durationMillis":739.8917,"startTime":1686632371926,"failed":false,"refId":"[1:3]","endTime":1686632372667,"exampleIndex":-1}],"callDepth":2,"name":"Autenticação","description":"","resultDate":"2023-06-13 01:59:34 AM","durationMillis":739.8917,"passedCount":1}]},{"result":{"nanos":768600,"millis":0.7686,"status":"passed"},"step":{"line":7,"prefix":"Given","index":0,"text":"url 'https:\/\/barrigarest.wcaquino.me\/reset'"}},{"result":{"nanos":6761900,"millis":6.7619,"status":"passed"},"step":{"line":8,"prefix":"And","index":1,"text":"header Authorization = 'JWT '+ auth.response.token"}},{"result":{"nanos":521942500,"millis":521.9425,"status":"passed"},"step":{"line":9,"prefix":"When","index":2,"text":"method GET"},"stepLog":"01:59:32.676 request:\n1 > GET https:\/\/barrigarest.wcaquino.me\/reset\n1 > Authorization: JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\n1 > Host: barrigarest.wcaquino.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.18)\n1 > Accept-Encoding: gzip,deflate\n\n\n01:59:33.195 response time in milliseconds: 518\n1 < 200\n1 < Server: nginx\/1.12.1 (Ubuntu)\n1 < Date: Tue, 13 Jun 2023 04:59:34 GMT\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n\n\n"},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":10,"prefix":"Then","index":3,"text":"status 200"}}],"executorName":"pool-1-thread-1","line":6,"name":"Resetar a aplicação","description":"","durationMillis":1281.6384,"startTime":1686632371914,"failed":false,"refId":"[1:6]","endTime":1686632373198,"exampleIndex":-1}],"callDepth":1,"name":"GET Resetar","description":"","resultDate":"2023-06-13 01:59:34 AM","durationMillis":1281.6384,"passedCount":1}]},{"result":{"nanos":3765000,"millis":3.765,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def body = read('classpath:barrigaRest\/feature\/support\/cadastrar_transacao.json')"}},{"result":{"nanos":1251007300,"millis":1251.0073,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def consultarContas = call read(\"classpath:barrigaRest\/feature\/buscar_contas.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:barrigaRest\/feature\/buscar_contas.feature","packageQualifiedName":"barrigaRest.feature.buscar_contas","loopIndex":-1,"relativePath":"barrigaRest\/feature\/buscar_contas.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":751271500,"millis":751.2715,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def auth = call read(\"classpath:barrigaRest\/feature\/auth.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:barrigaRest\/feature\/auth.feature","packageQualifiedName":"barrigaRest.feature.auth","loopIndex":-1,"relativePath":"barrigaRest\/feature\/auth.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":176400,"millis":0.1764,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url 'https:\/\/barrigarest.wcaquino.me\/signin'"}},{"result":{"nanos":122000,"millis":0.122,"status":"passed"},"step":{"line":5,"prefix":"And","index":1,"text":"request {email: \"a@a\", senha: \"a\", redirecionar: false}"}},{"result":{"nanos":739141700,"millis":739.1417,"status":"passed"},"step":{"line":6,"prefix":"When","index":2,"text":"method post"},"stepLog":"01:59:33.225 request:\n1 > POST https:\/\/barrigarest.wcaquino.me\/signin\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 48\n1 > Host: barrigarest.wcaquino.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.18)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"a@a\",\"senha\":\"a\",\"redirecionar\":false}\n\n01:59:33.959 response time in milliseconds: 732\n1 < 200\n1 < Server: nginx\/1.12.1 (Ubuntu)\n1 < Date: Tue, 13 Jun 2023 04:59:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 122\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < ETag: W\/\"7a-FnDAQekM3VP4lo\/xFY0wSczih8w\"\n{\"id\":1,\"nome\":\"a\",\"token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\"}\n\n"},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":7,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":1183200,"millis":1.1832,"status":"passed"},"step":{"line":8,"prefix":"*","index":4,"text":"print response"},"stepLog":"01:59:33.964 [print] {\n  \"id\": 1,\n  \"nome\": \"a\",\n  \"token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\"\n}\n \n"}],"executorName":"pool-1-thread-1","line":3,"name":"Pegar o token","description":"","durationMillis":740.654,"startTime":1686632373224,"failed":false,"refId":"[1:3]","endTime":1686632373964,"exampleIndex":-1}],"callDepth":2,"name":"Autenticação","description":"","resultDate":"2023-06-13 01:59:34 AM","durationMillis":740.654,"passedCount":1}]},{"result":{"nanos":995000,"millis":0.995,"status":"passed"},"step":{"line":7,"prefix":"Given","index":0,"text":"url 'https:\/\/barrigarest.wcaquino.me\/contas'"}},{"result":{"nanos":817800,"millis":0.8178,"status":"passed"},"step":{"line":8,"prefix":"And","index":1,"text":"header Authorization = 'JWT '+ auth.response.token"}},{"result":{"nanos":485265700,"millis":485.2657,"status":"passed"},"step":{"line":9,"prefix":"When","index":2,"text":"method GET"},"stepLog":"01:59:33.968 request:\n1 > GET https:\/\/barrigarest.wcaquino.me\/contas\n1 > Authorization: JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MX0._8dEoo99USVc5NdBo3wMyWfmjX2lwaVhJs9YbNn_WWM\n1 > Host: barrigarest.wcaquino.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.18)\n1 > Accept-Encoding: gzip,deflate\n\n\n01:59:34.448 response time in milliseconds: 479\n1 < 200\n1 < Server: nginx\/1.12.1 (Ubuntu)\n1 < Date: Tue, 13 Jun 2023 04:59:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 445\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < ETag: W\/\"1bd-PAGN8iyV0ebJN5fvubbyNCUIYao\"\n[{\"id\":1778175,\"nome\":\"Conta para alterar\",\"visivel\":true,\"usuario_id\":1},{\"id\":1778176,\"nome\":\"Conta mesmo nome\",\"visivel\":true,\"usuario_id\":1},{\"id\":1778177,\"nome\":\"Conta para movimentacoes\",\"visivel\":true,\"usuario_id\":1},{\"id\":1778178,\"nome\":\"Conta com movimentacao\",\"visivel\":true,\"usuario_id\":1},{\"id\":1778179,\"nome\":\"Conta para saldo\",\"visivel\":true,\"usuario_id\":1},{\"id\":1778180,\"nome\":\"Conta para extrato\",\"visivel\":true,\"usuario_id\":1}]\n\n"},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":10,"prefix":"Then","index":3,"text":"status 200"}}],"executorName":"pool-1-thread-1","line":6,"name":"Buscar todas as contas","description":"","durationMillis":1238.3646,"startTime":1686632373214,"failed":false,"refId":"[1:6]","endTime":1686632374452,"exampleIndex":-1}],"callDepth":1,"name":"GET CONTAS","description":"","resultDate":"2023-06-13 01:59:34 AM","durationMillis":1238.3646,"passedCount":1}]},{"result":{"nanos":56907100,"errorMessage":"js failed:\n>>>>\n01: Java.type('barrigaRest.support.Gerador').('gerador.gerarData()')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:41 Expected ident but found (\r\nJava.type('barrigaRest.support.Gerador').('gerador.gerarData()')\r\n                                         ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1199)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2147)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2066)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1260)\n\nclasspath:barrigaRest\/feature\/cadastrar_transacao.feature:8","millis":56.9071,"status":"failed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def gerador = Java.type('barrigaRest.support.Gerador').('gerador.gerarData()')"},"stepLog":"01:59:34.521 classpath:barrigaRest\/feature\/cadastrar_transacao.feature:8\n* def gerador = Java.type('barrigaRest.support.Gerador').('gerador.gerarData()')\njs failed:\n>>>>\n01: Java.type('barrigaRest.support.Gerador').('gerador.gerarData()')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:41 Expected ident but found (\r\nJava.type('barrigaRest.support.Gerador').('gerador.gerarData()')\r\n                                         ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1199)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2147)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2066)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1260)\n\nclasspath:barrigaRest\/feature\/cadastrar_transacao.feature:8\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"*","index":0,"text":"set body.conta_id = consultarContas.response[0].id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"*","index":1,"text":"set body.data_pagamento = gerador"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#* set body.data_transacao = dataAtual"],"line":16,"prefix":"Given","index":2,"text":"url 'https:\/\/barrigarest.wcaquino.me\/transacoes'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"And","index":3,"text":"header Authorization = 'JWT ' + auth.response.token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"And","index":4,"text":"request body"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"When","index":5,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"Then","index":6,"text":"status 201"}}],"line":12,"description":"","durationMillis":4102.2642,"failed":true,"error":"js failed:\n>>>>\n01: Java.type('barrigaRest.support.Gerador').('gerador.gerarData()')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:41 Expected ident but found (\r\nJava.type('barrigaRest.support.Gerador').('gerador.gerarData()')\r\n                                         ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1199)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2147)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2066)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1260)\n\nclasspath:barrigaRest\/feature\/cadastrar_transacao.feature:8","tags":["teste"],"executorName":"pool-1-thread-1","name":"Cadastrar uma transação","startTime":1686632370338,"refId":"[1:12]","endTime":1686632374521,"exampleIndex":-1}],"callDepth":0,"name":"POST Cadastrar transação","description":"","resultDate":"2023-06-13 01:59:34 AM","durationMillis":4102.2642,"passedCount":0}